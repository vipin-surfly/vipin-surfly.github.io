<a id="openInChrome" href="#">Open Travel Insurance Page in Chrome</a>

<script>
  document.getElementById('openInChrome').addEventListener('click', function (e) {
    e.preventDefault();
    var targetUrl = 'https://webfuse.com/+travel_insurance/';

    // Detect platform
    var ua = navigator.userAgent || '';
    var isAndroid = /Android/i.test(ua);
    var isIOS = /iPhone|iPad|iPod/i.test(ua);

    if (isAndroid) {
      // Intent URI for Android
      var u = new URL(targetUrl);
      var intentUri = 'intent://' + u.host + u.pathname + u.search + u.hash +
                      '#Intent;scheme=' + u.protocol.replace(':','') +
                      ';package=com.android.chrome;end';
      window.location.href = intentUri;
    }
    else if (isIOS) {
      // Custom Chrome scheme for iOS
      var chromeScheme = targetUrl.replace(/^https:/, 'googlechromes:').replace(/^http:/, 'googlechrome:');
      // Try opening in Chrome
      window.location = chromeScheme;

      // Fallback: open normally in new tab or default handler after delay
      setTimeout(function () {
        window.open(targetUrl, '_blank', 'noopener,noreferrer');
      }, 500);
    }
    else {
      // Other platforms: open normally
      window.open(targetUrl, '_blank', 'noopener,noreferrer');
    }
  });
</script>
