<html>
<body>
    <script>
        // Surfly snippet
        (function(s,u,r,f,l,y){s[f]=s[f]||{init:function(){s[f].q=arguments}};
        l=u.createElement(r);y=u.getElementsByTagName(r)[0];l.async=1;
        l.src='https://surfly.com/surfly.js';y.parentNode.insertBefore(l,y);})
        (window,document,'script','Surfly');

        // The preferred way is to set session options from the Surfly web interface,
        // so in most cases you only need to provide a widget key below,
        // but you can also override any options here
        var settings = {
            widget_key: "513065a5492743e6a6340aec09b7e4d1",
            hide_until_agent_joins: true,
            start_docked: true
        };

        // Surfly.init() must be called before any other API call
        Surfly.init(settings, function(init) {
        if (init.success && !Surfly.isInsideSession) {
            Surfly.session()
            .on("session_started", function(session, event) {
                // display the PIN of the current session
                document.querySelector("#sessidtarget").innerText = session.pin;
            })
            .on("viewer_joined", function(session, event) {
                // if the first viewer joins, redirect to a page of your choice
                if (event.count == 1) {
                session.relocate("https://www.surfly.com");
                }
            })
            .startLeader();
        }
        });
    </script>

    <h1>Landing Page Example</h1>
    Session Code: <span id="sessidtarget">...</span>
</body>
</html>
Landing page example



Full featured custom session ID approach ¶
Customize your flow even more and wow both your users and agents with this advanced tutorial.


SESSION ID ¶

Lets re-think how co-browsing sessions are started.


The session ID approach can be useful when there are many requests on a site, and the agent needs to easily identify the correct customer from their queue. At this point, the agent is generally already talking to the customer through chat or phone. The customer can confirm their ID with the agent, who will then pick up the corresponding call in their Surfly dashboard.


There are two ways to enable the display of this session ID.

The easiest way is to enable the block_until_agent_joins option in your session options. Otherwise, you can configure and customize your own session ID flow by using our built in session.pin call as explained in the code example below.


